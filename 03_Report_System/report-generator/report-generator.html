<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google Analytics 4 (GA4) ì¸¡ì • ì½”ë“œ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W7X130KM7E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-W7X130KM7E');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ë™ì‚° ì•ˆì „ì„± ê²€ì¦ ë³´ê³ ì„œ ìƒì„±ê¸° - ë³´ì¦ì§€í‚´ì´</title>
    <link rel="icon" type="image/png" href="../images/logo.png"> 
    <link rel="apple-touch-icon" href="../images/logo.png">
    <link rel="stylesheet" href="../report-generator/report-generator.css">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1330722015430909');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1330722015430909&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <h1>ğŸ“Š ë¶€ë™ì‚° ì•ˆì „ì„± ê²€ì¦ ë³´ê³ ì„œ ìƒì„±ê¸°</h1>
            <p>ê°„ë‹¨í•œ ì •ë³´ ì…ë ¥ìœ¼ë¡œ ì „ë¬¸ì ì¸ ë¶€ë™ì‚° ì•ˆì „ì„± ê²€ì¦ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ì„¸ìš”</p>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <!-- ì…ë ¥ í¼ ì„¹ì…˜ -->
            <div class="form-section">
                <h2>ğŸ“ ë³´ê³ ì„œ ì •ë³´ ì…ë ¥</h2>
                
                <!-- ì„¹ì…˜ ë„¤ë¹„ê²Œì´ì…˜ -->
                <div class="section-navigation">
                    <button type="button" class="nav-btn active" onclick="showSection('customer')">ğŸ‘¤ ê³ ê°ì •ë³´</button>
                    <button type="button" class="nav-btn" onclick="showSection('property')">ğŸ  ë¶€ë™ì‚°ì •ë³´</button>
                    <button type="button" class="nav-btn" onclick="showSection('analysis')">ğŸ“Š ë¶„ì„ì •ë³´</button>
                    <button type="button" class="nav-btn" onclick="showSection('insurance')">ğŸ›¡ï¸ ë³´í—˜ì •ë³´</button>
                    <button type="button" class="nav-btn" onclick="showSection('scenario')">ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤</button>
                </div>
                
                <form id="reportForm" class="form-grid">
                    <!-- ê³ ê° ì •ë³´ ì„¹ì…˜ -->
                    <div class="section-content active" id="customer-section">
                        <h3>ğŸ‘¤ ê³ ê° ì •ë³´</h3>
                        <div class="form-group">
                            <label for="customerName">ê³ ê° ì´ë¦„ *</label>
                            <input type="text" id="customerName" placeholder="ì˜ˆ: ê¹€ì² ìˆ˜" value="ê¹€ì² ìˆ˜" required>
                        </div>

                        <div class="form-group">
                            <label for="requestedAnalysis">ìš”ì²­í•œ ë¶„ì„ ìœ í˜•</label>
                            <div class="analysis-type-selector">
                                <div class="selected-analysis" id="selectedAnalysis">ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±</div>
                                <button type="button" class="select-button" onclick="openAnalysisSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="contractSituation">ê³„ì•½ ìƒí™©</label>
                            <div class="selector-container">
                                <div class="selected-value" id="selectedContractSituation">ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”</div>
                                <button type="button" class="select-button" onclick="openContractSituationSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="additionalInfo">ì¶”ê°€ ì •ë³´</label>
                            <textarea id="additionalInfo" placeholder="íŠ¹ë³„í•œ ìš”ì²­ì‚¬í•­ì´ë‚˜ ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">-</textarea>
                        </div>
                    </div>

                    <!-- ë¶€ë™ì‚° ì •ë³´ ì„¹ì…˜ -->
                    <div class="section-content" id="property-section">
                        <h3>ğŸ  ë¶€ë™ì‚° ì •ë³´</h3>
                        <div class="form-group">
                            <label for="propertyAddress">ë¶€ë™ì‚° ì£¼ì†Œ *</label>
                            <input type="text" id="propertyAddress" placeholder="ì˜ˆ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45" value="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45" required>
                        </div>

                        <div class="form-group">
                            <label for="depositType">ë³´ì¦ê¸ˆ ìœ í˜• *</label>
                            <div class="selector-container">
                                <div class="selected-value" id="selectedDepositType">ì „ì„¸</div>
                                <button type="button" class="select-button" onclick="openDepositTypeSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="depositAmount">ë³´ì¦ê¸ˆ ê¸ˆì•¡ *</label>
                            <input type="text" id="depositAmount" placeholder="ì˜ˆ: 3ì–µì›, 1ì–µ 5ì²œë§Œì›" value="3ì–µì›" required>
                            <div class="help-text">í•œê¸€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš” (ì˜ˆ: 3ì–µì›, 1ì–µ 5ì²œë§Œì›)</div>
                        </div>

                        <div class="form-group">
                            <label for="monthlyRent">ì›”ì„¸ ê¸ˆì•¡</label>
                            <input type="text" id="monthlyRent" placeholder="ì˜ˆ: 50ë§Œì› (ì „ì„¸ë©´ -)" value="-">
                            <div class="help-text">ì›”ì„¸/ë°˜ì „ì„¸ì¸ ê²½ìš°ì—ë§Œ ì…ë ¥, ì „ì„¸ë©´ "-"</div>
                        </div>

                        <div class="form-group">
                            <label for="contractPeriod">ê³„ì•½ ê¸°ê°„</label>
                            <div class="selector-container">
                                <div class="selected-value" id="selectedContractPeriod">2ë…„</div>
                                <button type="button" class="select-button" onclick="openContractPeriodSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>
                    </div>

                    <!-- ë¶„ì„ ì •ë³´ ì„¹ì…˜ -->
                    <div class="section-content" id="analysis-section">
                        <h3>ğŸ“Š ë¶„ì„ ì •ë³´</h3>
                        <div class="score-input-group">
                            <div class="form-group">
                                <label for="legalScore">ë²•ì  ì•ˆì „ì„± ì ìˆ˜ *</label>
                                <input type="number" id="legalScore" placeholder="0-100" value="90" min="0" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="financialScore">ê¸ˆìœµ ì•ˆì „ì„± ì ìˆ˜ *</label>
                                <input type="number" id="financialScore" placeholder="0-100" value="85" min="0" max="100" required>
                            </div>
                        </div>
                        
                        <div class="score-input-group">
                            <div class="form-group">
                                <label for="totalScore">ì¢…í•© ì ìˆ˜ (ìë™ê³„ì‚°)</label>
                                <input type="number" id="totalScore" placeholder="ìë™ê³„ì‚°" readonly>
                            </div>
                            <div class="form-group">
                                <label for="scoreLabel">ì ìˆ˜ ë“±ê¸‰ (ìë™ê³„ì‚°)</label>
                                <select id="scoreLabel" disabled>
                                    <option value="ìš°ìˆ˜">ìš°ìˆ˜ (90-100)</option>
                                    <option value="ì–‘í˜¸" selected>ì–‘í˜¸ (80-89)</option>
                                    <option value="ë³´í†µ">ë³´í†µ (70-79)</option>
                                    <option value="ì£¼ì˜">ì£¼ì˜ (50-69)</option>
                                    <option value="ìœ„í—˜">ìœ„í—˜ (0-49)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- ë³´í—˜ ì •ë³´ ì„¹ì…˜ -->
                    <div class="section-content" id="insurance-section">
                        <h3>ğŸ›¡ï¸ ë³´í—˜ ì •ë³´</h3>
                        <div class="form-group">
                            <label for="insuranceAvailable">ë³´í—˜ ê°€ì… ê°€ëŠ¥ ì—¬ë¶€</label>
                            <div class="selector-container">
                                <div class="selected-value" id="selectedInsuranceAvailable">ê°€ì… ê°€ëŠ¥</div>
                                <button type="button" class="select-button" onclick="openInsuranceSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="insurancePremium">ì›” ë³´í—˜ë£Œ</label>
                            <input type="text" id="insurancePremium" placeholder="ì˜ˆ: 3ë§Œì›" value="3ë§Œì›">
                        </div>

                        <div class="form-group">
                            <label for="insuranceLimit">ë³´ì¥ í•œë„</label>
                            <input type="text" id="insuranceLimit" placeholder="ì˜ˆ: ìµœëŒ€ 3ì–µì›" value="ìµœëŒ€ 3ì–µì›">
                        </div>

                        <div class="form-group">
                            <label for="recommendedInsurance">ì¶”ì²œ ë³´í—˜ì‚¬</label>
                            <input type="text" id="recommendedInsurance" placeholder="ì˜ˆ: DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ" value="DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ">
                        </div>

                        <div class="form-group">
                            <label for="loanAvailable">ì „ì„¸ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€</label>
                            <div class="selector-container">
                                <div class="selected-value" id="selectedLoanAvailable">ëŒ€ì¶œ ê°€ëŠ¥</div>
                                <button type="button" class="select-button" onclick="openLoanSelector()">ì„ íƒí•˜ê¸°</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="loanLimit">ëŒ€ì¶œ í•œë„</label>
                            <input type="text" id="loanLimit" placeholder="ì˜ˆ: 2.4ì–µì›" value="2.4ì–µì›">
                        </div>

                        <div class="form-group">
                            <label for="recommendedBank">ì¶”ì²œ ì€í–‰</label>
                            <input type="text" id="recommendedBank" placeholder="ì˜ˆ: êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰" value="êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰">
                        </div>
                    </div>

                    <!-- ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ ì„¹ì…˜ -->
                    <div class="section-content" id="scenario-section">
                        <h3>ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ</h3>
                        <p class="section-description">ë³´ê³ ì„œì— í¬í•¨í•  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
                        
                        <div class="scenario-checkboxes">
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioAuction" checked>
                                <label for="scenarioAuction">ê²½ë§¤ ìƒí™©</label>
                                <span class="checkbox-desc">ê²½ë§¤ ë°œìƒ ì‹œ ì˜ˆìƒë˜ëŠ” ìƒí™©ê³¼ ì†ì‹¤ ë¶„ì„</span>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioFraud" checked onchange="toggleFraudDetails()">
                                <label for="scenarioFraud">ì „ì„¸ì‚¬ê¸°</label>
                                <span class="checkbox-desc">ì´ëŸ° ì „ì„¸ì‚¬ê¸°ë“¤ì´ ìˆì–´ìš”</span>
                                <button type="button" class="detail-toggle-btn" onclick="toggleFraudDetails()" id="fraudDetailBtn">ì„¸ë¶€ì„ íƒ</button>
                                
                                <div class="fraud-details" id="fraudDetails" style="display: none;">
                                    <div class="fraud-sub-checkboxes">
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudDoubleContract" checked>
                                            <label for="fraudDoubleContract">ì´ì¤‘ê³„ì•½ ì‚¬ê¸°</label>
                                            <span class="sub-desc">ê°™ì€ ì§‘ì„ ì—¬ëŸ¬ ëª…ì—ê²Œ ê³„ì•½</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudFakeOwner" checked>
                                            <label for="fraudFakeOwner">ê°€ì§œ ì§‘ì£¼ì¸ ì‚¬ê¸°</label>
                                            <span class="sub-desc">ì‹¤ì œ ì§‘ì£¼ì¸ì´ ì•„ë‹Œ ì‚¬ëŒì´ ê³„ì•½</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudMortgage" checked>
                                            <label for="fraudMortgage">ì €ë‹¹ê¶Œ ì„¤ì • ì‚¬ê¸°</label>
                                            <span class="sub-desc">ë³´ì¦ê¸ˆë³´ë‹¤ ë†’ì€ ì €ë‹¹ê¶Œ ì„¤ì •</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudAuction" checked>
                                            <label for="fraudAuction">ê²½ë§¤ ì˜ˆì • ì‚¬ê¸°</label>
                                            <span class="sub-desc">ê²½ë§¤ ì˜ˆì •ì¸ ì§‘ì„ ê³„ì•½</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudDocument" checked>
                                            <label for="fraudDocument">ì„œë¥˜ ìœ„ì¡° ì‚¬ê¸°</label>
                                            <span class="sub-desc">ë“±ê¸°ë¶€ë“±ë³¸ ë“± ì„œë¥˜ ìœ„ì¡°</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudDeposit" checked>
                                            <label for="fraudDeposit">ë³´ì¦ê¸ˆ íš¡ë ¹ ì‚¬ê¸°</label>
                                            <span class="sub-desc">ë³´ì¦ê¸ˆì„ ë‹¤ë¥¸ ìš©ë„ë¡œ ì‚¬ìš©</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudEviction" checked>
                                            <label for="fraudEviction">ê°•ì œí‡´ê±° ì‚¬ê¸°</label>
                                            <span class="sub-desc">ê³„ì•½ ê¸°ê°„ ì¤‘ ê°•ì œë¡œ í‡´ê±° ìš”êµ¬</span>
                                        </div>
                                        <div class="sub-checkbox-group">
                                            <input type="checkbox" id="fraudRent" checked>
                                            <label for="fraudRent">ì›”ì„¸ ìš”êµ¬ ì‚¬ê¸°</label>
                                            <span class="sub-desc">ì „ì„¸ì¸ë° ì›”ì„¸ë¥¼ ìš”êµ¬</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioContact" checked>
                                <label for="scenarioContact">ì§‘ì£¼ì¸ ì—°ë½ ë‘ì ˆ</label>
                                <span class="checkbox-desc">ê°‘ìê¸° ì—°ë½ì´ ì•ˆ ë  ë•Œ</span>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioPrice" checked>
                                <label for="scenarioPrice">ì €ë ´í•œ ë§¤ë¬¼</label>
                                <span class="checkbox-desc">ë„ˆë¬´ ì‹¸ê²Œ ë‚˜ì˜¨ ì§‘ì¼ ë•Œ</span>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioContract" checked>
                                <label for="scenarioContract">ê³„ì•½ì„œ ì´ìƒ ì¡°í•­</label>
                                <span class="checkbox-desc">ì´ìƒí•œ ì¡°ê±´ì´ ìˆì„ ë•Œ</span>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioCredit" checked>
                                <label for="scenarioCredit">ì§‘ì£¼ì¸ ì‹ ìš©ë„</label>
                                <span class="checkbox-desc">ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœê°€ ë¶ˆì•ˆí•  ë•Œ</span>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="scenarioTips" checked>
                                <label for="scenarioTips">ì¶”ê°€ íŒ</label>
                                <span class="checkbox-desc">ë” ì•ˆì „í•˜ê²Œ í•˜ë ¤ë©´</span>
                            </div>
                        </div>
                    </div>

                    <!-- ë¹ ë¥¸ í…œí”Œë¦¿ -->
                    <div class="quick-templates">
                        <h3>ğŸš€ ë¹ ë¥¸ í…œí”Œë¦¿</h3>
                        <div class="template-buttons">
                            <button type="button" class="btn-template" onclick="loadTemplate('safe')">ì•ˆì „í•œ ì „ì„¸</button>
                            <button type="button" class="btn-template" onclick="loadTemplate('monthly')">ì›”ì„¸ ê³„ì•½</button>
                            <button type="button" class="btn-template" onclick="loadTemplate('risky')">ìœ„í—˜ ë¶€ë™ì‚°</button>
                            <button type="button" class="btn-template" onclick="loadTemplate('excellent')">ìš°ìˆ˜ ë¶€ë™ì‚°</button>
                        </div>
                    </div>
                </form>

                <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="generateReport()">
                        ğŸ“Š ë³´ê³ ì„œ ìƒì„±
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">
                        ğŸ”„ ì´ˆê¸°í™”
                    </button>
                    <button type="button" class="btn btn-success" onclick="openReport()">
                        ğŸ“„ ë³´ê³ ì„œ ë³´ê¸°
                    </button>
                </div>
            </div>

            <!-- ë¯¸ë¦¬ë³´ê¸° ì„¹ì…˜ -->
            <div class="preview-section">
                <h2>ğŸ‘€ ë¯¸ë¦¬ë³´ê¸°</h2>
                <div class="preview-content">
                    <div class="preview-placeholder" id="previewPlaceholder">
                        ğŸ“ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³ <br>
                        "ë³´ê³ ì„œ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´<br>
                        ë¯¸ë¦¬ë³´ê¸°ê°€ í‘œì‹œë©ë‹ˆë‹¤
                    </div>
                    <div class="preview-data" id="previewData">
                        <!-- ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë¶„ì„ ìœ í˜• ì„ íƒ íŒì—… -->
    <div class="analysis-selector-popup" id="analysisSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ë¶„ì„ ìœ í˜• ì„ íƒ</h3>
                <button class="close-button" onclick="closeAnalysisSelector()">Ã—</button>
            </div>
            <div class="analysis-options">
                <div class="analysis-option" onclick="selectAnalysis('ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±')">
                    <div class="option-icon">ğŸ’°âš–ï¸</div>
                    <div class="option-text">
                        <div class="option-title">ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±</div>
                        <div class="option-desc">ì§‘ì£¼ì¸ì˜ ì¬ì •ìƒíƒœì™€ ë²•ì  ë¦¬ìŠ¤í¬ë¥¼ ì¢…í•© ë¶„ì„</div>
                    </div>
                </div>
                <div class="analysis-option" onclick="selectAnalysis('ë¶€ë™ì‚° ì‹œì„¸ + íˆ¬ì ê°€ì¹˜')">
                    <div class="option-icon">ğŸ“ˆğŸ </div>
                    <div class="option-text">
                        <div class="option-title">ë¶€ë™ì‚° ì‹œì„¸ + íˆ¬ì ê°€ì¹˜</div>
                        <div class="option-desc">í˜„ì¬ ì‹œì„¸ì™€ í–¥í›„ íˆ¬ì ê°€ì¹˜ë¥¼ ë¶„ì„</div>
                    </div>
                </div>
                <div class="analysis-option" onclick="selectAnalysis('ê³„ì•½ì„œ ê²€í†  + ê¶Œë¦¬ë¶„ì„')">
                    <div class="option-icon">ğŸ“‹ğŸ”</div>
                    <div class="option-text">
                        <div class="option-title">ê³„ì•½ì„œ ê²€í†  + ê¶Œë¦¬ë¶„ì„</div>
                        <div class="option-desc">ê³„ì•½ì„œ ë‚´ìš©ê³¼ ì„ì°¨ì¸ ê¶Œë¦¬ë¥¼ ìƒì„¸ ë¶„ì„</div>
                    </div>
                </div>
                <div class="analysis-option" onclick="selectAnalysis('ì „ì²´ ì¢…í•© ë¶„ì„')">
                    <div class="option-icon">ğŸ¯ğŸ“Š</div>
                    <div class="option-text">
                        <div class="option-title">ì „ì²´ ì¢…í•© ë¶„ì„</div>
                        <div class="option-desc">ëª¨ë“  í•­ëª©ì„ í¬í•¨í•œ ì¢…í•©ì ì¸ ë¶„ì„</div>
                    </div>
                </div>
                <div class="analysis-option" onclick="selectAnalysis('ê¸´ê¸‰ ìœ„í—˜ì„± ê²€í† ')">
                    <div class="option-icon">âš ï¸ğŸš¨</div>
                    <div class="option-text">
                        <div class="option-title">ê¸´ê¸‰ ìœ„í—˜ì„± ê²€í† </div>
                        <div class="option-desc">ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•œ ìœ„í—˜ ìš”ì†Œë“¤ì„ ìš°ì„  ë¶„ì„</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë³´ì¦ê¸ˆ ìœ í˜• ì„ íƒ íŒì—… -->
    <div class="selector-popup" id="depositTypeSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ë³´ì¦ê¸ˆ ìœ í˜• ì„ íƒ</h3>
                <button class="close-button" onclick="closeDepositTypeSelector()">Ã—</button>
            </div>
            <div class="selector-options">
                <div class="selector-option" onclick="selectDepositType('ì „ì„¸')">
                    <div class="option-icon">ğŸ </div>
                    <div class="option-text">
                        <div class="option-title">ì „ì„¸</div>
                        <div class="option-desc">ë³´ì¦ê¸ˆë§Œ ì§€ë¶ˆí•˜ê³  ì›”ì„¸ ì—†ìŒ</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectDepositType('ì›”ì„¸')">
                    <div class="option-icon">ğŸ’°</div>
                    <div class="option-text">
                        <div class="option-title">ì›”ì„¸</div>
                        <div class="option-desc">ë³´ì¦ê¸ˆ + ë§¤ì›” ì›”ì„¸ ì§€ë¶ˆ</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectDepositType('ë°˜ì „ì„¸')">
                    <div class="option-icon">ğŸ”„</div>
                    <div class="option-text">
                        <div class="option-title">ë°˜ì „ì„¸</div>
                        <div class="option-desc">ë³´ì¦ê¸ˆì˜ ì¼ë¶€ë§Œ ì§€ë¶ˆí•˜ê³  ì›”ì„¸ ì§€ë¶ˆ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê³„ì•½ ê¸°ê°„ ì„ íƒ íŒì—… -->
    <div class="selector-popup" id="contractPeriodSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ê³„ì•½ ê¸°ê°„ ì„ íƒ</h3>
                <button class="close-button" onclick="closeContractPeriodSelector()">Ã—</button>
            </div>
            <div class="selector-options">
                <div class="selector-option" onclick="selectContractPeriod('6ê°œì›”')">
                    <div class="option-icon">ğŸ“…</div>
                    <div class="option-text">
                        <div class="option-title">6ê°œì›”</div>
                        <div class="option-desc">ë‹¨ê¸° ê³„ì•½</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectContractPeriod('1ë…„')">
                    <div class="option-icon">ğŸ“†</div>
                    <div class="option-text">
                        <div class="option-title">1ë…„</div>
                        <div class="option-desc">ì¼ë°˜ì ì¸ ê³„ì•½ ê¸°ê°„</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectContractPeriod('2ë…„')">
                    <div class="option-icon">ğŸ—“ï¸</div>
                    <div class="option-text">
                        <div class="option-title">2ë…„</div>
                        <div class="option-desc">ì¥ê¸° ê³„ì•½ (ê¶Œì¥)</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë³´í—˜ ê°€ì… ê°€ëŠ¥ ì—¬ë¶€ ì„ íƒ íŒì—… -->
    <div class="selector-popup" id="insuranceSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ë³´í—˜ ê°€ì… ê°€ëŠ¥ ì—¬ë¶€</h3>
                <button class="close-button" onclick="closeInsuranceSelector()">Ã—</button>
            </div>
            <div class="selector-options">
                <div class="selector-option" onclick="selectInsurance('ê°€ì… ê°€ëŠ¥')">
                    <div class="option-icon">âœ…</div>
                    <div class="option-text">
                        <div class="option-title">ê°€ì… ê°€ëŠ¥</div>
                        <div class="option-desc">ì „ì„¸ë³´ì¦ë³´í—˜ ê°€ì… ê°€ëŠ¥</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectInsurance('ê°€ì… ë¶ˆê°€')">
                    <div class="option-icon">âŒ</div>
                    <div class="option-text">
                        <div class="option-title">ê°€ì… ë¶ˆê°€</div>
                        <div class="option-desc">ë³´í—˜ ê°€ì… ì¡°ê±´ ë¯¸ì¶©ì¡±</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectInsurance('ì¡°ê±´ë¶€ ê°€ì…')">
                    <div class="option-icon">âš ï¸</div>
                    <div class="option-text">
                        <div class="option-title">ì¡°ê±´ë¶€ ê°€ì…</div>
                        <div class="option-desc">íŠ¹ì • ì¡°ê±´ í•˜ì— ê°€ì… ê°€ëŠ¥</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì „ì„¸ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€ ì„ íƒ íŒì—… -->
    <div class="selector-popup" id="loanSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ì „ì„¸ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€</h3>
                <button class="close-button" onclick="closeLoanSelector()">Ã—</button>
            </div>
            <div class="selector-options">
                <div class="selector-option" onclick="selectLoan('ëŒ€ì¶œ ê°€ëŠ¥')">
                    <div class="option-icon">ğŸ¦</div>
                    <div class="option-text">
                        <div class="option-title">ëŒ€ì¶œ ê°€ëŠ¥</div>
                        <div class="option-desc">ì „ì„¸ëŒ€ì¶œ ì‹ ì²­ ê°€ëŠ¥</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectLoan('ëŒ€ì¶œ ë¶ˆê°€')">
                    <div class="option-icon">ğŸš«</div>
                    <div class="option-text">
                        <div class="option-title">ëŒ€ì¶œ ë¶ˆê°€</div>
                        <div class="option-desc">ëŒ€ì¶œ ì¡°ê±´ ë¯¸ì¶©ì¡±</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectLoan('ì¡°ê±´ë¶€ ëŒ€ì¶œ')">
                    <div class="option-icon">ğŸ“‹</div>
                    <div class="option-text">
                        <div class="option-title">ì¡°ê±´ë¶€ ëŒ€ì¶œ</div>
                        <div class="option-desc">íŠ¹ì • ì¡°ê±´ í•˜ì— ëŒ€ì¶œ ê°€ëŠ¥</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê³„ì•½ ìƒí™© ì„ íƒ íŒì—… -->
    <div class="selector-popup" id="contractSituationSelectorPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>ê³„ì•½ ìƒí™© ì„ íƒ</h3>
                <button class="close-button" onclick="closeContractSituationSelector()">Ã—</button>
            </div>
            <div class="selector-options">
                <div class="selector-option" onclick="selectContractSituation('ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”')">
                    <div class="option-icon">ğŸ“‹</div>
                    <div class="option-text">
                        <div class="option-title">ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”</div>
                        <div class="option-desc">ê³„ì•½ ì²´ê²° í›„ ì´ì‚¬ ì¤€ë¹„ ì¤‘</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectContractSituation('ê³„ì•½í•˜ê³  ì‹¶ì€ ì§‘ì´ ìˆì–´ìš”')">
                    <div class="option-icon">ğŸ”</div>
                    <div class="option-text">
                        <div class="option-title">ê³„ì•½í•˜ê³  ì‹¶ì€ ì§‘ì´ ìˆì–´ìš”</div>
                        <div class="option-desc">ê³„ì•½ ì „ ë¶„ì„ ìš”ì²­</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectContractSituation('í˜„ì¬ ê±°ì£¼ ì¤‘ì´ì—ìš”')">
                    <div class="option-icon">ğŸ </div>
                    <div class="option-text">
                        <div class="option-title">í˜„ì¬ ê±°ì£¼ ì¤‘ì´ì—ìš”</div>
                        <div class="option-desc">ì´ë¯¸ ê±°ì£¼ ì¤‘ì¸ ë¶€ë™ì‚° ë¶„ì„</div>
                    </div>
                </div>
                <div class="selector-option" onclick="selectContractSituation('ë‘˜ëŸ¬ë³´ê¸°ë§Œ í–ˆì–´ìš”')">
                    <div class="option-icon">ğŸ‘€</div>
                    <div class="option-text">
                        <div class="option-title">ë‘˜ëŸ¬ë³´ê¸°ë§Œ í–ˆì–´ìš”</div>
                        <div class="option-desc">ë¶€ë™ì‚° í™•ì¸ í›„ ë¶„ì„ ìš”ì²­</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- íŒì—… í´ë¦­ìœ¨ ë° ê´‘ê³ ë¹„ ëŒ€ë¹„ ìˆ˜ìµë¥  ì¸¡ì •ì„ ìœ„í•œ ì¶”ì  ì½”ë“œ -->
    <script>
        /**
         * ========================================
         * íŒì—… í´ë¦­ìœ¨ ë° ê´‘ê³ ë¹„ ëŒ€ë¹„ ìˆ˜ìµë¥  ì¸¡ì • ì‹œìŠ¤í…œ
         * ========================================
         */
        
        // ì¶”ì  ë°ì´í„° ì €ì¥ì†Œ
        const trackingData = {
            popupClicks: {},
            adRevenue: {},
            userSessions: [],
            conversionEvents: []
        };

        // íŒì—… í´ë¦­ ì¶”ì  í•¨ìˆ˜
        function trackPopupClick(popupId, popupType, action) {
            const timestamp = new Date().toISOString();
            const sessionId = getSessionId();
            
            const clickData = {
                sessionId: sessionId,
                popupId: popupId,
                popupType: popupType,
                action: action, // 'open', 'close', 'interact'
                timestamp: timestamp,
                userAgent: navigator.userAgent,
                referrer: document.referrer,
                url: window.location.href
            };

            // ë¡œì»¬ ì €ì¥ì†Œì— ì €ì¥
            if (!trackingData.popupClicks[popupId]) {
                trackingData.popupClicks[popupId] = [];
            }
            trackingData.popupClicks[popupId].push(clickData);

            // ì„œë²„ë¡œ ì „ì†¡ (ì‹¤ì œ êµ¬í˜„ ì‹œ)
            sendTrackingData('popup_click', clickData);
            
            console.log('íŒì—… í´ë¦­ ì¶”ì :', clickData);
        }

        // ì „í™˜ ì´ë²¤íŠ¸ ì¶”ì  (ë³´ê³ ì„œ ìƒì„±, ë‹¤ìš´ë¡œë“œ ë“±)
        function trackConversionEvent(eventType, eventValue, metadata = {}) {
            const timestamp = new Date().toISOString();
            const sessionId = getSessionId();
            
            const conversionData = {
                sessionId: sessionId,
                eventType: eventType, // 'report_generated', 'report_downloaded', 'form_submitted'
                eventValue: eventValue,
                metadata: metadata,
                timestamp: timestamp,
                userAgent: navigator.userAgent,
                referrer: document.referrer,
                url: window.location.href
            };

            trackingData.conversionEvents.push(conversionData);
            sendTrackingData('conversion', conversionData);
            
            console.log('ì „í™˜ ì´ë²¤íŠ¸ ì¶”ì :', conversionData);
        }

        // ì„¸ì…˜ ID ìƒì„±
        function getSessionId() {
            let sessionId = sessionStorage.getItem('tracking_session_id');
            if (!sessionId) {
                sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                sessionStorage.setItem('tracking_session_id', sessionId);
            }
            return sessionId;
        }

        // ì¶”ì  ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡
        function sendTrackingData(eventType, data) {
            // í˜„ì¬ëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            const existingData = JSON.parse(localStorage.getItem('tracking_data') || '{}');
            if (!existingData[eventType]) {
                existingData[eventType] = [];
            }
            existingData[eventType].push(data);
            localStorage.setItem('tracking_data', JSON.stringify(existingData));
        }

        // ê°œë°œììš© ì¶”ì  ë°ì´í„° í™•ì¸ í•¨ìˆ˜ (ì½˜ì†”ì—ì„œ ì‚¬ìš©)
        window.trackingUtils = {
            getData: () => trackingData,
            trackPopupClick: trackPopupClick,
            trackConversion: trackConversionEvent
        };
    </script>

    <script>
        /**
         * ========================================
         * ë³´ê³ ì„œ ìƒì„±ê¸° JavaScript
         * ========================================
         */

        // ë¶„ì„ ìœ í˜• ì„ íƒ íŒì—… ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openAnalysisSelector() {
            document.getElementById('analysisSelectorPopup').style.display = 'flex';
            trackPopupClick('analysis_selector', 'popup_selector', 'open');
        }

        function closeAnalysisSelector() {
            document.getElementById('analysisSelectorPopup').style.display = 'none';
            trackPopupClick('analysis_selector', 'popup_selector', 'close');
        }

        function selectAnalysis(analysisType) {
            document.getElementById('selectedAnalysis').textContent = analysisType;
            trackPopupClick('analysis_selector', 'popup_selector', 'interact');
            closeAnalysisSelector();
        }

        // íŒì—… ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            const popup = document.getElementById('analysisSelectorPopup');
            if (event.target === popup) {
                closeAnalysisSelector();
            }
        });

        // ë³´ì¦ê¸ˆ ìœ í˜• ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openDepositTypeSelector() {
            document.getElementById('depositTypeSelectorPopup').style.display = 'flex';
        }

        function closeDepositTypeSelector() {
            document.getElementById('depositTypeSelectorPopup').style.display = 'none';
        }

        function selectDepositType(depositType) {
            document.getElementById('selectedDepositType').textContent = depositType;
            closeDepositTypeSelector();
        }

        // ê³„ì•½ ê¸°ê°„ ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openContractPeriodSelector() {
            document.getElementById('contractPeriodSelectorPopup').style.display = 'flex';
        }

        function closeContractPeriodSelector() {
            document.getElementById('contractPeriodSelectorPopup').style.display = 'none';
        }

        function selectContractPeriod(contractPeriod) {
            document.getElementById('selectedContractPeriod').textContent = contractPeriod;
            closeContractPeriodSelector();
        }

        // ë³´í—˜ ê°€ì… ê°€ëŠ¥ ì—¬ë¶€ ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openInsuranceSelector() {
            document.getElementById('insuranceSelectorPopup').style.display = 'flex';
        }

        function closeInsuranceSelector() {
            document.getElementById('insuranceSelectorPopup').style.display = 'none';
        }

        function selectInsurance(insuranceStatus) {
            document.getElementById('selectedInsuranceAvailable').textContent = insuranceStatus;
            closeInsuranceSelector();
        }

        // ì „ì„¸ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€ ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openLoanSelector() {
            document.getElementById('loanSelectorPopup').style.display = 'flex';
        }

        function closeLoanSelector() {
            document.getElementById('loanSelectorPopup').style.display = 'none';
        }

        function selectLoan(loanStatus) {
            document.getElementById('selectedLoanAvailable').textContent = loanStatus;
            closeLoanSelector();
        }

        // ê³„ì•½ ìƒí™© ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openContractSituationSelector() {
            document.getElementById('contractSituationSelectorPopup').style.display = 'flex';
        }

        function closeContractSituationSelector() {
            document.getElementById('contractSituationSelectorPopup').style.display = 'none';
        }

        function selectContractSituation(contractSituation) {
            document.getElementById('selectedContractSituation').textContent = contractSituation;
            closeContractSituationSelector();
        }

        // ëª¨ë“  íŒì—… ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            const popups = [
                'analysisSelectorPopup',
                'depositTypeSelectorPopup', 
                'contractPeriodSelectorPopup',
                'insuranceSelectorPopup',
                'loanSelectorPopup',
                'contractSituationSelectorPopup'
            ];
            
            popups.forEach(popupId => {
                const popup = document.getElementById(popupId);
                if (event.target === popup) {
                    popup.style.display = 'none';
                }
            });
        });

        // ì „ì„¸ì‚¬ê¸° ì„¸ë¶€ í•­ëª© í† ê¸€ í•¨ìˆ˜
        function toggleFraudDetails() {
            const fraudDetails = document.getElementById('fraudDetails');
            const fraudDetailBtn = document.getElementById('fraudDetailBtn');
            const isVisible = fraudDetails.style.display !== 'none';
            
            if (isVisible) {
                fraudDetails.style.display = 'none';
                fraudDetailBtn.textContent = 'ì„¸ë¶€ì„ íƒ';
            } else {
                fraudDetails.style.display = 'block';
                fraudDetailBtn.textContent = 'ì ‘ê¸°';
            }
        }

        // ë²•ì  ì•ˆì „ì„±ê³¼ ê¸ˆìœµ ì•ˆì „ì„± ì ìˆ˜ ì…ë ¥ ì‹œ ìë™ìœ¼ë¡œ ì¢…í•© ì ìˆ˜ì™€ ë“±ê¸‰ ê³„ì‚°
        function calculateTotalScore() {
            const legalScore = parseInt(document.getElementById('legalScore').value) || 0;
            const financialScore = parseInt(document.getElementById('financialScore').value) || 0;
            
            // í‰ê·  ì ìˆ˜ ê³„ì‚° (ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬ê¹Œì§€ ë°˜ì˜¬ë¦¼)
            const averageScore = Math.round(((legalScore + financialScore) / 2) * 10) / 10;
            
            // ì¢…í•© ì ìˆ˜ ì—…ë°ì´íŠ¸
            document.getElementById('totalScore').value = averageScore;
            
            // ì ìˆ˜ ë“±ê¸‰ ìë™ ì„¤ì •
            const scoreLabel = document.getElementById('scoreLabel');
            if (averageScore >= 90) scoreLabel.value = 'ìš°ìˆ˜';
            else if (averageScore >= 80) scoreLabel.value = 'ì–‘í˜¸';
            else if (averageScore >= 70) scoreLabel.value = 'ë³´í†µ';
            else if (averageScore >= 50) scoreLabel.value = 'ì£¼ì˜';
            else if (averageScore >= 0) scoreLabel.value = 'ìœ„í—˜';
            
            updatePreview();
        }

        // ë²•ì  ì•ˆì „ì„±ê³¼ ê¸ˆìœµ ì•ˆì „ì„± ì ìˆ˜ ì…ë ¥ ì´ë²¤íŠ¸
        document.getElementById('legalScore').addEventListener('input', calculateTotalScore);
        document.getElementById('financialScore').addEventListener('input', calculateTotalScore);

        /**
         * ì„¹ì…˜ ì „í™˜ í•¨ìˆ˜
         */
        function showSection(sectionId) {
            // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.remove('active');
            });
            
            // ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ì„ íƒëœ ì„¹ì…˜ í‘œì‹œ
            const targetSection = document.getElementById(sectionId + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // ì„ íƒëœ ë²„íŠ¼ í™œì„±í™”
            const targetButton = event.target;
            if (targetButton) {
                targetButton.classList.add('active');
            }
        }

        // ëª¨ë“  ì…ë ¥ í•„ë“œì— ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ ì¶”ê°€
        document.querySelectorAll('#reportForm input, #reportForm select, #reportForm textarea').forEach(input => {
            input.addEventListener('input', updatePreview);
        });

        /**
         * ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
         */
        function updatePreview() {
            const formData = getFormData();
            const previewPlaceholder = document.getElementById('previewPlaceholder');
            const previewData = document.getElementById('previewData');
            
            if (formData.customerName && formData.propertyAddress && formData.depositAmount) {
                previewPlaceholder.style.display = 'none';
                previewData.style.display = 'block';
                
                previewData.innerHTML = `
                    <div class="preview-item">
                        <span class="preview-label">ê³ ê°ëª…</span>
                        <span class="preview-value">${formData.customerName}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ë¶€ë™ì‚° ì£¼ì†Œ</span>
                        <span class="preview-value">${formData.propertyAddress}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ë³´ì¦ê¸ˆ ìœ í˜•</span>
                        <span class="preview-value">${formData.depositType}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ë³´ì¦ê¸ˆ ê¸ˆì•¡</span>
                        <span class="preview-value">${formData.depositAmount}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ì›”ì„¸ ê¸ˆì•¡</span>
                        <span class="preview-value">${formData.monthlyRent}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ê³„ì•½ ê¸°ê°„</span>
                        <span class="preview-value">${formData.contractPeriod}</span>
                    </div>
                    <div class="preview-item">
                        <span class="preview-label">ì¢…í•© ì ìˆ˜</span>
                        <span class="preview-value">${formData.totalScore}ì  (${formData.scoreLabel})</span>
                    </div>
                `;
            } else {
                previewPlaceholder.style.display = 'block';
                previewData.style.display = 'none';
            }
        }

        /**
         * í¼ ë°ì´í„° ìˆ˜ì§‘
         */
        function getFormData() {
            // ì „ì„¸ì‚¬ê¸° ì„¸ë¶€ í•­ëª©ë“¤ (fraudDetailsChecked ë°°ì—´ë¡œ í†µí•©)
            const fraudDetailsChecked = [];
            if (document.getElementById('fraudDoubleContract').checked) fraudDetailsChecked.push('doubleContract');
            if (document.getElementById('fraudFakeOwner').checked) fraudDetailsChecked.push('fakeLandlord');
            if (document.getElementById('fraudMortgage').checked) fraudDetailsChecked.push('depositFraud'); // ì €ë‹¹ê¶Œ > ë³´ì¦ê¸ˆ ì‚¬ê¸° ìœ í˜•ìœ¼ë¡œ ê°„ì£¼
            if (document.getElementById('fraudAuction').checked) fraudDetailsChecked.push('kkangtong'); // ê²½ë§¤ ì˜ˆì • > ê¹¡í†µì „ì„¸ ìœ í˜•ìœ¼ë¡œ ê°„ì£¼
            if (document.getElementById('fraudDocument').checked) fraudDetailsChecked.push('fakeDocument');
            if (document.getElementById('fraudDeposit').checked) fraudDetailsChecked.push('depositFraud');
            if (document.getElementById('fraudEviction').checked) fraudDetailsChecked.push('evictionFraud');
            if (document.getElementById('fraudRent').checked) fraudDetailsChecked.push('doubleContract'); // ì›”ì„¸ ìš”êµ¬ > ì´ì¤‘ê³„ì•½/ê¶Œë¦¬ë¶„ìŸ ìœ í˜•ìœ¼ë¡œ ê°„ì£¼

            return {
                customerName: document.getElementById('customerName').value,
                propertyAddress: document.getElementById('propertyAddress').value,
                depositType: document.getElementById('selectedDepositType').textContent,
                depositAmount: document.getElementById('depositAmount').value,
                monthlyRent: document.getElementById('monthlyRent').value,
                contractPeriod: document.getElementById('selectedContractPeriod').textContent,
                legalScore: parseInt(document.getElementById('legalScore').value),
                financialScore: parseInt(document.getElementById('financialScore').value),
                totalScore: parseFloat(document.getElementById('totalScore').value),
                scoreLabel: document.getElementById('scoreLabel').value,
                requestedAnalysis: document.getElementById('selectedAnalysis').textContent,
                contractSituation: document.getElementById('selectedContractSituation').textContent,
                additionalInfo: document.getElementById('additionalInfo').value,
                insuranceAvailable: document.getElementById('selectedInsuranceAvailable').textContent,
                insurancePremium: document.getElementById('insurancePremium').value,
                insuranceLimit: document.getElementById('insuranceLimit').value,
                recommendedInsurance: document.getElementById('recommendedInsurance').value,
                loanAvailable: document.getElementById('selectedLoanAvailable').textContent,
                loanLimit: document.getElementById('loanLimit').value,
                recommendedBank: document.getElementById('recommendedBank').value,
                scenarioAuction: document.getElementById('scenarioAuction').checked,
                scenarioFraud: document.getElementById('scenarioFraud').checked,
                scenarioContact: document.getElementById('scenarioContact').checked,
                scenarioPrice: document.getElementById('scenarioPrice').checked,
                scenarioContract: document.getElementById('scenarioContract').checked,
                scenarioCredit: document.getElementById('scenarioCredit').checked,
                scenarioTips: document.getElementById('scenarioTips').checked,
                // ğŸ’¡ ì¶”ê°€: ì²´í¬ëœ ì „ì„¸ì‚¬ê¸° ì„¸ë¶€ ìœ í˜• ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ê°€
                fraudDetailsChecked: fraudDetailsChecked
            };
        }

        /**
         * ë³´ê³ ì„œ ìƒì„±
         */
        function generateReport() {
            try {
                const formData = getFormData();
                
                // í•„ìˆ˜ í•„ë“œ ê²€ì¦
                if (!formData.customerName || !formData.propertyAddress || !formData.depositAmount) {
                    showNotification('âŒ í•„ìˆ˜ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                // ë³´ê³ ì„œ ìƒì„± ì¶”ì 
                trackConversionEvent('report_generated', 'report_generator', {
                    customerName: formData.customerName,
                    propertyAddress: formData.propertyAddress,
                    depositAmount: formData.depositAmount,
                    totalScore: formData.totalScore
                });

                // ì ìˆ˜ì— ë”°ë¥¸ ìë™ ì„¤ëª… ìƒì„±
                formData.scoreDescription = generateScoreDescription(formData.totalScore, formData.scoreLabel);

                // localStorageì— ë°ì´í„° ì €ì¥
                localStorage.setItem('reportData', JSON.stringify(formData));
                
                // ìƒˆë¡œìš´ HTML íŒŒì¼ ìƒì„±
                generateNewHTMLFile(formData);
                
                showNotification('âœ… ë³´ê³ ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                
                // 1ì´ˆ í›„ ë³´ê³ ì„œ í˜ì´ì§€ë¡œ ì´ë™
                setTimeout(() => {
                    window.open('report-template.html', '_blank');
                }, 1000);

            } catch (error) {
                console.error('ë³´ê³ ì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                showNotification('âŒ ë³´ê³ ì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        /**
         * ìƒˆë¡œìš´ HTML íŒŒì¼ ìƒì„±
         */
        function generateNewHTMLFile(formData) {
            try {
                // íŒŒì¼ëª… ìƒì„± (ê³ ê°ëª…_ë‚ ì§œì‹œê°„)
                const now = new Date();
                const timestamp = now.toISOString().replace(/[:.]/g, '-').slice(0, 19);
                const fileName = `${formData.customerName}_${timestamp}.html`;
                
                // HTML í…œí”Œë¦¿ ìƒì„±
                const htmlContent = generateHTMLTemplate(formData);
                
                // Blob ìƒì„±
                const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                
                // File System Access APIë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • í´ë”ì— ì €ì¥ ì‹œë„
                if ('showSaveFilePicker' in window) {
                    // ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ëŠ” File System Access API ì‚¬ìš©
                    window.showSaveFilePicker({
                        suggestedName: fileName,
                        types: [{
                            description: 'HTML íŒŒì¼',
                            accept: { 'text/html': ['.html'] }
                        }]
                    }).then(fileHandle => {
                        return fileHandle.createWritable();
                    }).then(writable => {
                        return writable.write(blob);
                    }).then(() => {
                        console.log(`âœ… íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: ${fileName}`);
                        
                        // ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ ì¶”ì 
                        trackConversionEvent('report_downloaded', fileName, {
                            customerName: formData.customerName,
                            propertyAddress: formData.propertyAddress,
                            depositAmount: formData.depositAmount,
                            totalScore: formData.totalScore
                        });
                    }).catch(error => {
                        console.warn('File System Access API ì‹¤íŒ¨, ê¸°ë³¸ ë‹¤ìš´ë¡œë“œë¡œ ëŒ€ì²´:', error);
                        fallbackDownload(blob, fileName, formData);
                    });
                } else {
                    // êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œëŠ” ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ ì‚¬ìš©
                    fallbackDownload(blob, fileName, formData);
                }
                
            } catch (error) {
                console.error('âŒ HTML íŒŒì¼ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                throw error;
            }
        }
        
        /**
         * ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ ë°©ì‹ (fallback)
         */
        function fallbackDownload(blob, fileName, formData) {
            const url = URL.createObjectURL(blob);
            
            // ë‹¤ìš´ë¡œë“œ ë§í¬ ìƒì„±
            const downloadLink = document.createElement('a');
            downloadLink.href = url;
            downloadLink.download = fileName;
            downloadLink.style.display = 'none';
            
            // ë‹¤ìš´ë¡œë“œ ì‹¤í–‰
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            
            // URL í•´ì œ
            URL.revokeObjectURL(url);
            
            // ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ ì¶”ì 
            trackConversionEvent('report_downloaded', fileName, {
                customerName: formData.customerName,
                propertyAddress: formData.propertyAddress,
                depositAmount: formData.depositAmount,
                totalScore: formData.totalScore
            });
            
            console.log(`âœ… ìƒˆë¡œìš´ HTML íŒŒì¼ ìƒì„± ì™„ë£Œ: ${fileName}`);
        }

        /**
         * HTML í…œí”Œë¦¿ ìƒì„±
         */
        function generateHTMLTemplate(formData) {
            const htmlTemplate = `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ë™ì‚° ì•ˆì „ì„± ê²€ì¦ ë³´ê³ ì„œ - ${formData.customerName}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: #1a202c;
            background: #ffffff;
            margin: 0;
            padding: 0;
            position: relative;
            font-weight: 400;
            letter-spacing: -0.01em;
        }

        .report-container {
            max-width: 402px;
            margin: 0 auto;
            background: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border: 1px solid #f3f4f6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” */
        .report-header {
            background: #f8fafc;
            color: #374151;
            padding: 0.5rem 1rem;
            border-bottom: 2px solid #e5e7eb;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .company-name {
            font-size: 1.5rem;
            font-weight: 800;
            margin: 0;
            color: #1e40af;
            letter-spacing: -0.02em;
        }

        .report-meta {
            background: #ffffff;
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
        }

        .property-info-table {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #e5e7eb;
            overflow: hidden;
            margin-bottom: 1.5rem;
            padding: 0;
            max-width: 100%;
            box-sizing: border-box;
            width: 100%;
            overflow-x: hidden;
        }

        .info-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.75rem;
            table-layout: auto;
            max-width: 100%;
            box-sizing: border-box;
            word-wrap: break-word;
            overflow: hidden;
        }

        .table-header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            font-size: 1rem;
            font-weight: 700;
            padding: 0.5rem;
            text-align: center;
            letter-spacing: -0.01em;
            width: 100%;
            border-radius: 12px 12px 0 0;
            display: block;
            margin: 0;
            box-sizing: border-box;
            max-width: 100%;
        }

        .info-label {
            background: #f8fafc;
            color: #6b7280;
            font-weight: 600;
            padding: 0.5rem 0.3rem;
            font-size: 0.75rem;
            letter-spacing: -0.01em;
            width: 25%;
            text-align: center;
            vertical-align: middle;
        }

        .info-value {
            background: #ffffff;
            color: #374151;
            font-weight: 600;
            padding: 0.5rem 0.3rem;
            font-size: 0.75rem;
            letter-spacing: -0.01em;
            text-align: center;
            vertical-align: middle;
            width: 25%;
            word-wrap: break-word;
        }

        /* 1ì—´ í–‰ ìŠ¤íƒ€ì¼ (ì²« ë²ˆì§¸ì™€ ë§ˆì§€ë§‰ í–‰) */
        tr:first-child .info-value,
        tr:last-child .info-value {
            width: 100%;
            text-align: left;
            padding-left: 1rem;
        }

        /* colspan="3"ê°€ ì ìš©ëœ ì…€ ìŠ¤íƒ€ì¼ */
        .info-value[colspan="3"] {
            width: 100%;
            text-align: left;
            padding-left: 1rem;
            box-sizing: border-box;
        }

        /* 4ì—´ í–‰ ìŠ¤íƒ€ì¼ (ë³´ì¦ê¸ˆ ìœ í˜• + ìƒì„¸ìœ í˜•, ë³´ì¦ê¸ˆ + ì›”ì„¸) */
        tr:nth-child(2) td,
        tr:nth-child(3) td {
            width: 25%;
            max-width: 25%;
            min-width: 25%;
            box-sizing: border-box;
            padding: 0.5rem 0.75rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* 4ì—´ í–‰ì—ì„œ ë¼ë²¨ê³¼ ê°’ì˜ ë¹„ìœ¨ ì¡°ì • - ê· ì¼í•œ í¬ê¸°ë¡œ ë³€ê²½ */
        tr:nth-child(2) .info-label,
        tr:nth-child(3) .info-label {
            width: 25%;
            font-size: 0.75rem;
            text-align: center;
            padding: 0.5rem 0.3rem;
            max-width: 100%;
        }

        tr:nth-child(2) .info-value,
        tr:nth-child(3) .info-value {
            width: 25%;
            font-size: 0.75rem;
            text-align: center;
            padding: 0.5rem 0.3rem;
            max-width: 100%;
        }

        /* í˜¸ë²„ íš¨ê³¼ */
        tr:hover .info-label {
            background: #f1f5f9;
        }

        tr:hover .info-value {
            background: #f8fafc;
        }

        /* ê³ ê° ê°œì¸í™” ì •ë³´ ì„¹ì…˜ */
        .customer-info-section {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 1.5rem 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .customer-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .customer-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: #1e40af;
            margin: 0 0 0.5rem 0;
            letter-spacing: -0.02em;
        }

        .customer-subtitle {
            font-size: 0.9rem;
            color: #6b7280;
            margin: 0;
            font-weight: 500;
        }

        .customer-details {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.25rem 0.5rem;
            background: #ffffff;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .detail-label {
            font-size: 0.8rem;
            color: #6b7280;
            font-weight: 600;
            min-width: 100px;
            position: relative;
        }

        .detail-label::after {
            content: '';
            position: absolute;
            right: -0.5rem;
            top: 50%;
            transform: translateY(-50%);
            width: 1px;
            height: 60%;
            background: #e5e7eb;
        }

        .detail-value {
            font-size: 0.85rem;
            color: #374151;
            font-weight: 600;
            text-align: right;
            flex: 1;
            margin-left: 1rem;
        }

        /* ë©”ì¸ ì½˜í…ì¸  */
        .report-content {
            padding: 1rem;
            flex: 1;
        }

        /* í‘¸í„° */
        .report-footer {
            background: #f8fafc;
            color: #374151;
            padding: 1rem 2rem;
            text-align: center;
            border-top: 2px solid #e5e7eb;
            margin-top: auto;
            margin-bottom: 4rem;
        }

        .footer-logo {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            color: #1f2937;
        }

        .footer-info {
            font-size: 0.75rem;
            color: #6b7280;
            line-height: 1.4;
            margin: 0;
        }

        /* ì¸ì‡„ ìŠ¤íƒ€ì¼ */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .report-container {
                box-shadow: none;
                max-width: none;
                border: none;
            }
            
            .report-header {
                background: #2d3748;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- í—¤ë” -->
        <div class="report-header">
            <div class="header-content">
                <div class="company-name">ë³´ì¦ì§€í‚´ì´</div>
            </div>
        </div>

        <!-- ë³´ê³ ì„œ ë©”íƒ€ ì •ë³´ -->
        <div class="report-meta">
            <div class="property-info-table">
                <table class="info-table">
                    <thead>
                        <tr>
                            <th class="table-header">ë¶€ë™ì‚° ì•ˆì „ì„± ê²€ì¦ ë³´ê³ ì„œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="info-label">ê³ ê°ëª…</td>
                            <td class="info-value" colspan="3">${formData.customerName || '-'}</td>
                        </tr>
                        <tr>
                            <td class="info-label">ê±°ë˜ìœ í˜•</td>
                            <td class="info-value">${formData.depositType || '-'}</td>
                            <td class="info-label">ìƒì„¸ìœ í˜•</td>
                            <td class="info-value">${formData.detailType || '-'}</td>
                        </tr>
                        <tr>
                            <td class="info-label">ë³´ì¦ê¸ˆ</td>
                            <td class="info-value">${formData.depositAmount || '-'}</td>
                            <td class="info-label">ì›”ì„¸</td>
                            <td class="info-value">${formData.monthlyRent || '-'}</td>
                        </tr>
                        <tr>
                            <td class="info-label">ì£¼ì†Œ</td>
                            <td class="info-value" colspan="3">${formData.propertyAddress || '-'}</td>
                        </tr>
                        <tr>
                            <td class="info-label">ìƒí™©</td>
                            <td class="info-value" colspan="3">${formData.additionalInfo || '-'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ê³ ê° ê°œì¸í™” ì •ë³´ -->
        <div class="customer-info-section">
            <div class="customer-header">
                <h2 class="customer-title">ğŸ“Š ì•ˆì „ì„± ê²€ì¦ ê²°ê³¼</h2>
                <p class="customer-subtitle">ì¢…í•© ì ìˆ˜: ${formData.totalScore || 0}ì  (${formData.scoreLabel || 'í‰ê°€ì¤‘'})</p>
            </div>
            
            <div class="customer-details">
                <div class="detail-item">
                    <span class="detail-label">ìš”ì²­ ë¶„ì„</span>
                    <span class="detail-value">${formData.requestedAnalysis || '-'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">ê³„ì•½ ê¸°ê°„</span>
                    <span class="detail-value">${formData.contractPeriod || '-'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">ë²•ì  ì•ˆì „ì„±</span>
                    <span class="detail-value">${formData.legalScore || 0}ì </span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">ê¸ˆìœµ ì•ˆì „ì„±</span>
                    <span class="detail-value">${formData.financialScore || 0}ì </span>
                </div>
            </div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="report-content">
            <div class="detail-item">
                <span class="detail-label">í‰ê°€ ì„¤ëª…</span>
                <span class="detail-value">${formData.scoreDescription || 'í‰ê°€ ì¤‘ì…ë‹ˆë‹¤.'}</span>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <div class="report-footer">
            <div class="footer-logo">ë³´ì¦ì§€í‚´ì´</div>
            <p class="footer-info">
                ì´ ë³´ê³ ì„œëŠ” ë³´ì¦ì§€í‚´ì´ì—ì„œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}<br>
                Â© 2024 ë³´ì¦ì§€í‚´ì´. All rights reserved.
            </p>
        </div>
    </div>
</body>
</html>`;
            
            return htmlTemplate;
        }

        /**
         * ì ìˆ˜ì— ë”°ë¥¸ ì„¤ëª… ìƒì„±
         */
        function generateScoreDescription(score, label) {
            const descriptions = {
                'ìš°ìˆ˜': 'ë§¤ìš° ì•ˆì „í•œ ê±°ë˜ê°€ ê°€ëŠ¥í•œ ìš°ìˆ˜í•œ ë¶€ë™ì‚°ì…ë‹ˆë‹¤. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê±°ë˜ì…ë‹ˆë‹¤.',
                'ì–‘í˜¸': 'ì „ë°˜ì ìœ¼ë¡œ ì•ˆì „í•œ ê±°ë˜ê°€ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤. ì¼ë¶€ ì£¼ì˜ì‚¬í•­ì´ ìˆìœ¼ë‚˜ í° ë¬¸ì œëŠ” ì—†ìŠµë‹ˆë‹¤.',
                'ë³´í†µ': 'ì¼ë°˜ì ì¸ ìˆ˜ì¤€ì˜ ì•ˆì „ì„±ì„ ë³´ì´ëŠ” ë¶€ë™ì‚°ì…ë‹ˆë‹¤. ì‹ ì¤‘í•œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
                'ì£¼ì˜': 'ì—¬ëŸ¬ ì£¼ì˜ì‚¬í•­ì´ ë°œê²¬ë˜ì–´ ì‹ ì¤‘í•œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì¶”ê°€ í™•ì¸ì„ ê¶Œì¥í•©ë‹ˆë‹¤.',
                'ìœ„í—˜': 'ë†’ì€ ìœ„í—˜ ìš”ì†Œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì „ë¬¸ê°€ ìƒë‹´ì„ ê°•ë ¥íˆ ê¶Œì¥í•©ë‹ˆë‹¤.'
            };
            return descriptions[label] || 'ë¶„ì„ ê²°ê³¼ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì…ë‹ˆë‹¤.';
        }

        /**
         * í¼ ì´ˆê¸°í™”
         */
        function resetForm() {
            document.getElementById('customerName').value = 'ê¹€ì² ìˆ˜';
            document.getElementById('propertyAddress').value = 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45';
            document.getElementById('depositType').value = 'ì „ì„¸';
            document.getElementById('depositAmount').value = '3ì–µì›';
            document.getElementById('monthlyRent').value = '-';
            document.getElementById('contractPeriod').value = '2ë…„';
            document.getElementById('legalScore').value = '90';
            document.getElementById('financialScore').value = '85';
            document.getElementById('totalScore').value = '87.5';
            document.getElementById('scoreLabel').value = 'ì–‘í˜¸';
            document.getElementById('selectedAnalysis').textContent = 'ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±';
            document.getElementById('selectedContractSituation').textContent = 'ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”';
            document.getElementById('additionalInfo').value = '-';
            document.getElementById('insuranceAvailable').value = 'ê°€ì… ê°€ëŠ¥';
            document.getElementById('insurancePremium').value = '3ë§Œì›';
            document.getElementById('insuranceLimit').value = 'ìµœëŒ€ 3ì–µì›';
            document.getElementById('recommendedInsurance').value = 'DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ';
            document.getElementById('loanAvailable').value = 'ëŒ€ì¶œ ê°€ëŠ¥';
            document.getElementById('loanLimit').value = '2.4ì–µì›';
            document.getElementById('recommendedBank').value = 'êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰';
            
            // ì‹œë‚˜ë¦¬ì˜¤ ì²´í¬ë°•ìŠ¤ ì´ˆê¸°í™” (ëª¨ë‘ ì²´í¬)
            document.getElementById('scenarioAuction').checked = true;
            document.getElementById('scenarioFraud').checked = true;
            document.getElementById('scenarioContact').checked = true;
            document.getElementById('scenarioPrice').checked = true;
            document.getElementById('scenarioContract').checked = true;
            document.getElementById('scenarioCredit').checked = true;
            document.getElementById('scenarioTips').checked = true;
            
            calculateTotalScore();
            updatePreview();
            showNotification('ğŸ”„ í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        }

        /**
         * ë³´ê³ ì„œ ë³´ê¸° (ìƒˆ íƒ­ì—ì„œ ì—´ê¸°)
         */
        function openReport() {
            window.open('report-template.html', '_blank');
        }

        /**
         * ë¹ ë¥¸ í…œí”Œë¦¿ ë¡œë“œ
         */
        function loadTemplate(type) {
            const templates = {
                'safe': {
                    customerName: 'ê¹€ì² ìˆ˜',
                    propertyAddress: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45',
                    depositType: 'ì „ì„¸',
                    depositAmount: '3ì–µì›',
                    monthlyRent: '-',
                    contractPeriod: '2ë…„',
                    legalScore: '90',
                    financialScore: '85',
                    requestedAnalysis: 'ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±',
                    contractSituation: 'ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”',
                    additionalInfo: '-',
                    insuranceAvailable: 'ê°€ì… ê°€ëŠ¥',
                    insurancePremium: '3ë§Œì›',
                    insuranceLimit: 'ìµœëŒ€ 3ì–µì›',
                    recommendedInsurance: 'DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ',
                    loanAvailable: 'ëŒ€ì¶œ ê°€ëŠ¥',
                    loanLimit: '2.4ì–µì›',
                    recommendedBank: 'êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰',
                    scenarioAuction: true,
                    scenarioFraud: true,
                    scenarioContact: true,
                    scenarioPrice: true,
                    scenarioContract: true,
                    scenarioCredit: true,
                    scenarioTips: true
                },
                'monthly': {
                    customerName: 'ì´ì˜í¬',
                    propertyAddress: 'ì„œìš¸ì‹œ ì„œì´ˆêµ¬ ì„œì´ˆë™ 456-78',
                    depositType: 'ì›”ì„¸',
                    depositAmount: '1ì–µì›',
                    monthlyRent: '80ë§Œì›',
                    contractPeriod: '1ë…„',
                    legalScore: '75',
                    financialScore: '80',
                    requestedAnalysis: 'ì§‘ì£¼ì¸ ì‹ ìš©ë„ + ê±´ë¬¼ ì•ˆì „ì„±',
                    contractSituation: 'ê³„ì•½í•˜ê³  ì‹¶ì€ ì§‘ì´ ìˆì–´ìš”',
                    additionalInfo: 'ì›”ì„¸ ê³„ì•½ì…ë‹ˆë‹¤',
                    insuranceAvailable: 'ê°€ì… ê°€ëŠ¥',
                    insurancePremium: '2ë§Œì›',
                    insuranceLimit: 'ìµœëŒ€ 1ì–µì›',
                    recommendedInsurance: 'DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ',
                    loanAvailable: 'ëŒ€ì¶œ ê°€ëŠ¥',
                    loanLimit: '8ì²œë§Œì›',
                    recommendedBank: 'êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰',
                    scenarioAuction: true,
                    scenarioFraud: true,
                    scenarioContact: true,
                    scenarioPrice: true,
                    scenarioContract: true,
                    scenarioCredit: true,
                    scenarioTips: true
                },
                'risky': {
                    customerName: 'ë°•ë¯¼ìˆ˜',
                    propertyAddress: 'ì„œìš¸ì‹œ ë§ˆí¬êµ¬ í™ëŒ€ì…êµ¬ì—­ 789-12',
                    depositType: 'ì „ì„¸',
                    depositAmount: '5ì–µì›',
                    monthlyRent: '-',
                    contractPeriod: '2ë…„',
                    legalScore: '60',
                    financialScore: '30',
                    requestedAnalysis: 'ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±',
                    contractSituation: 'ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”',
                    additionalInfo: 'ìœ„í—˜ ìš”ì†Œê°€ ë°œê²¬ëœ ë¶€ë™ì‚°',
                    insuranceAvailable: 'ì¡°ê±´ë¶€ ê°€ì…',
                    insurancePremium: '5ë§Œì›',
                    insuranceLimit: 'ìµœëŒ€ 5ì–µì›',
                    recommendedInsurance: 'DBì†í•´ë³´í—˜',
                    loanAvailable: 'ì¡°ê±´ë¶€ ëŒ€ì¶œ',
                    loanLimit: '3ì–µì›',
                    recommendedBank: 'êµ­ë¯¼ì€í–‰',
                    scenarioAuction: true,
                    scenarioFraud: true,
                    scenarioContact: true,
                    scenarioPrice: true,
                    scenarioContract: true,
                    scenarioCredit: true,
                    scenarioTips: true
                },
                'excellent': {
                    customerName: 'ì´ìˆ˜ì§„',
                    propertyAddress: 'ì„œìš¸ì‹œ ì†¡íŒŒêµ¬ ì ì‹¤ë™ 345-67',
                    depositType: 'ì „ì„¸',
                    depositAmount: '3ì–µ 5ì²œë§Œì›',
                    monthlyRent: '-',
                    contractPeriod: '2ë…„',
                    legalScore: '98',
                    financialScore: '95',
                    requestedAnalysis: 'ì§‘ì£¼ì¸ ì¬ì •ìƒíƒœ + ë²•ì  ìœ„í—˜ì„±',
                    contractSituation: 'ê³„ì•½ì€ í–ˆëŠ”ë° ì•„ì§ ì´ì‚¬ ì „ì´ì—ìš”',
                    additionalInfo: 'ë§¤ìš° ì•ˆì „í•œ ë¶€ë™ì‚°',
                    insuranceAvailable: 'ê°€ì… ê°€ëŠ¥',
                    insurancePremium: '2.5ë§Œì›',
                    insuranceLimit: 'ìµœëŒ€ 3.5ì–µì›',
                    recommendedInsurance: 'DBì†í•´ë³´í—˜, í˜„ëŒ€í•´ìƒ, ì‚¼ì„±í™”ì¬',
                    loanAvailable: 'ëŒ€ì¶œ ê°€ëŠ¥',
                    loanLimit: '2.8ì–µì›',
                    recommendedBank: 'êµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰, ìš°ë¦¬ì€í–‰',
                    scenarioAuction: true,
                    scenarioFraud: true,
                    scenarioContact: true,
                    scenarioPrice: true,
                    scenarioContract: true,
                    scenarioCredit: true,
                    scenarioTips: true
                }
            };

            const template = templates[type];
            if (template) {
                Object.keys(template).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        if (element.type === 'checkbox') {
                            element.checked = template[key];
                        } else {
                            element.value = template[key];
                        }
                    }
                });
                calculateTotalScore();
                updatePreview();
                showNotification(`ğŸ“‹ ${type === 'safe' ? 'ì•ˆì „í•œ ì „ì„¸' : type === 'monthly' ? 'ì›”ì„¸ ê³„ì•½' : type === 'risky' ? 'ìœ„í—˜ ë¶€ë™ì‚°' : 'ìš°ìˆ˜ ë¶€ë™ì‚°'} í…œí”Œë¦¿ì´ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
            }
        }

        /**
         * ì•Œë¦¼ í‘œì‹œ
         */
        function showNotification(message, type = 'info') {
            // ê¸°ì¡´ ì•Œë¦¼ ì œê±°
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            // ìƒˆ ì•Œë¦¼ ìƒì„±
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;

            // DOMì— ì¶”ê°€
            document.body.appendChild(notification);

            // 3ì´ˆ í›„ ìë™ ì œê±°
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideOutRight 0.3s ease';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 300);
                }
            }, 3000);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        document.addEventListener('DOMContentLoaded', function() {
            updatePreview();
        });
    </script>
</body>
</html>